{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ehb27\\\\Documents\\\\GitHub\\\\SoftwareEngineeringProject\\\\client\\\\src\\\\Pages\\\\GuestReserve.js\",\n  _s = $RefreshSig$();\nimport \"../App.css\";\nimport { useContext } from 'react';\nimport React from 'react';\nimport { useState } from \"react\";\nimport FormInput from \"../components/FormInput\";\nimport axios from \"axios\";\nimport { AuthContext } from '../context/authContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GuestReserve = () => {\n  _s();\n  //const {currentUser} = useContext(AuthContext);\n\n  const [availT, setAvail] = useState();\n  const [values, setValues] = useState({\n    fullname: \"\",\n    email: \"\",\n    date: \"\",\n    time: \"\",\n    phone: \"\",\n    guests: \"\",\n    tableName: \"\",\n    hasReserations: \"true\"\n  });\n  const inputs = [{\n    id: 1,\n    name: \"fullname\",\n    type: \"text\",\n    placeholder: \"Full Name\",\n    errorMessage: \"Must include your name.\",\n    label: \"Name\",\n    pattern: \"^[A-Za-z0-9]{3,16}$\",\n    //js regex code\n    required: true\n  }, {\n    id: 2,\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"email\",\n    errorMessage: \"Should be a valid email adresss\",\n    label: \"Email\",\n    required: true\n  }, {\n    id: 3,\n    name: \"phone\",\n    type: \"number\",\n    placeholder: \"Phone Number\",\n    errorMessage: \"Not a valid phone number.\",\n    pattern: \"/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\\s\\./0-9]*$/g\",\n    label: \"Phone Number\",\n    required: true\n  }, {\n    id: 4,\n    name: \"date\",\n    type: \"date\",\n    placeholder: \"date\",\n    errorMessage: \"\",\n    label: \"Date\"\n  }, {\n    id: 5,\n    name: \"time\",\n    type: \"time\",\n    min: \"5:00\",\n    placeholder: \"Time\",\n    //errorMessage:\"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character.\",\n    label: \"Time\",\n    //pattern: '^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$',\n    required: true\n  }, {\n    id: 6,\n    name: \"guests\",\n    type: \"number\",\n    placeholder: \"Number of Guests\",\n    errorMessage: \"Must have at least one Guest\",\n    label: \"Number of Guests\",\n    pattern: \"^[1-9][0-9]*$\",\n    required: true\n  }];\n  const isWeekend = e => {\n    const date = values.date;\n    const date2 = date.toString();\n    const moDa = date2.substring(5);\n    let weekday = new Date(date2);\n    let is_Weekend = false;\n    let is_Holiday = false;\n    const holidays = [\"01-01\", \"12-25\", \"11-23\"];\n    for (let i = 0; i < holidays.length; i++) {\n      if (moDa === holidays[i]) {\n        console.log(\"is holiday\");\n        is_Holiday = true;\n      }\n    }\n    if (weekday.getDay() === 5 || weekday.getDay() === 6) {\n      is_Weekend = true;\n    }\n    if (is_Weekend === true || is_Holiday === true) {\n      return true;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      let res = await axios.post(\"/reservations/add\", values);\n      //let res = await axios.get(\"/reservations/checkRes\",values)\n      setAvail(res.data);\n      console.log(res.data);\n      console.log(availT);\n      if (availT === true) {\n        console.log(\"No resevation available\");\n      } else {\n        console.log(\"It is available\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const onChange = e => {\n    setValues({\n      ...values,\n      [e.target.name]: e.target.value\n    });\n    let special = isWeekend();\n  };\n\n  //console.log(values);sdf\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"GuestReserve\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Reserve a Table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), inputs.map(input => /*#__PURE__*/_jsxDEV(FormInput, {\n        ...input,\n        value: values[input.name],\n        onChange: onChange\n      }, input.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: () => setShow(true),\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }, this), isWeekend() ? /*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(Modal, {\n          className: \"Guest Modal\",\n          title: \"This is a high traffic day\",\n          onClose: () => setShow(false),\n          show: show,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"ModalMessage\",\n            children: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 32\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 26\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Goobye\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 12\n  }, this);\n};\n_s(GuestReserve, \"Q1GlBIsbCTpc8o0rbYtS+2HL6ag=\");\n_c = GuestReserve;\nexport default GuestReserve;\nvar _c;\n$RefreshReg$(_c, \"GuestReserve\");","map":{"version":3,"names":["useContext","React","useState","FormInput","axios","AuthContext","GuestReserve","availT","setAvail","values","setValues","fullname","email","date","time","phone","guests","tableName","hasReserations","inputs","id","name","type","placeholder","errorMessage","label","pattern","required","min","isWeekend","e","date2","toString","moDa","substring","weekday","Date","is_Weekend","is_Holiday","holidays","i","length","console","log","getDay","handleSubmit","preventDefault","res","post","data","err","onChange","target","value","special","map","input","setShow","show"],"sources":["C:/Users/ehb27/Documents/GitHub/SoftwareEngineeringProject/client/src/Pages/GuestReserve.js"],"sourcesContent":["import \"../App.css\"\r\nimport { useContext } from 'react'\r\nimport React from 'react'\r\nimport { useState } from \"react\";\r\nimport FormInput from \"../components/FormInput\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from '../context/authContext';\r\n\r\nconst GuestReserve = () => {\r\n\r\n    //const {currentUser} = useContext(AuthContext);\r\n\r\n    const[availT, setAvail] = useState()\r\n\r\n    const[values, setValues] = useState({\r\n        fullname:\"\",\r\n        email:\"\",\r\n        date:\"\",\r\n        time:\"\",\r\n        phone:\"\",\r\n        guests:\"\",\r\n        tableName:\"\",\r\n        hasReserations:\"true\"\r\n    });\r\n\r\n    const inputs = [\r\n        {\r\n            id:1,\r\n            name:\"fullname\",\r\n            type:\"text\",\r\n            placeholder:\"Full Name\",\r\n            errorMessage:\"Must include your name.\",\r\n            label:\"Name\",\r\n            pattern: \"^[A-Za-z0-9]{3,16}$\", //js regex code\r\n            required: true\r\n        },\r\n        {\r\n            id:2,\r\n            name:\"email\",\r\n            type:\"email\",\r\n            placeholder:\"email\",\r\n            errorMessage:\"Should be a valid email adresss\",\r\n            label:\"Email\",\r\n            required: true\r\n        },\r\n        {\r\n            id:3,\r\n            name:\"phone\",\r\n            type:\"number\",\r\n            placeholder:\"Phone Number\",\r\n            errorMessage:\"Not a valid phone number.\",\r\n            pattern:\"/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\\s\\./0-9]*$/g\",\r\n            label:\"Phone Number\",\r\n            required: true\r\n        },\r\n        {\r\n            id:4,\r\n            name:\"date\",\r\n            type:\"date\",\r\n            placeholder:\"date\",\r\n            errorMessage:\"\",\r\n            label:\"Date\",\r\n        },\r\n        {\r\n            id:5,\r\n            name:\"time\",\r\n            type:\"time\",\r\n            min:\"5:00\",\r\n            placeholder:\"Time\",\r\n            //errorMessage:\"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character.\",\r\n            label:\"Time\",\r\n            //pattern: '^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$',\r\n            required: true\r\n        },\r\n        {\r\n            id:6,\r\n            name:\"guests\",\r\n            type:\"number\",\r\n            placeholder:\"Number of Guests\",\r\n            errorMessage:\"Must have at least one Guest\",\r\n            label:\"Number of Guests\",\r\n            pattern: \"^[1-9][0-9]*$\",\r\n            required: true\r\n        }\r\n    ]\r\n\r\n    const isWeekend = (e) => {\r\n        const date = values.date;\r\n        const date2 = date.toString();\r\n        const moDa = date2.substring(5,)\r\n        let weekday = new Date(date2);\r\n        let is_Weekend = false;\r\n        let is_Holiday = false;\r\n\r\n        const holidays = [\r\n            \"01-01\",\r\n            \"12-25\",\r\n            \"11-23\",\r\n        ]\r\n\r\n        for(let i = 0; i < holidays.length; i++) {\r\n            if(moDa === holidays[i])\r\n            {\r\n                console.log(\"is holiday\")\r\n                is_Holiday = true;\r\n            }\r\n        }\r\n\r\n        if(weekday.getDay() === 5 || weekday.getDay() === 6) \r\n        {\r\n            is_Weekend = true;\r\n        }\r\n\r\n        if(is_Weekend === true || is_Holiday === true)\r\n        {\r\n            return true\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        try{\r\n           let res = await axios.post(\"/reservations/add\",values)\r\n            //let res = await axios.get(\"/reservations/checkRes\",values)\r\n            setAvail(res.data)\r\n            console.log(res.data)\r\n            console.log(availT)\r\n            if(availT === true)\r\n            {\r\n                console.log(\"No resevation available\")\r\n            }\r\n            else\r\n            {\r\n                console.log(\"It is available\")\r\n            }\r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n    };\r\n \r\n    const onChange = (e) => {\r\n        setValues({...values, [e.target.name]: e.target.value});\r\n        let special = isWeekend();\r\n    }\r\n\r\n    //console.log(values);sdf\r\n    return <div className = \"GuestReserve\">\r\n        <form onSubmit={handleSubmit}>\r\n        <h1>Reserve a Table</h1>\r\n            {inputs.map(input=>(\r\n            <FormInput key = {input.id} {...input} value= {values[input.name]} onChange={onChange}/>\r\n            ))}\r\n            <button type=\"submit\" onClick={() => setShow(true)}>Submit</button>\r\n            {isWeekend()?<span><Modal className='Guest Modal' title=\"This is a high traffic day\" onClose={() => setShow(false)} show={show}>\r\n                <p className=\"ModalMessage\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\r\n          </Modal></span> : <span>Goobye</span>}\r\n        </form>\r\n        {/* {isWeekend} */}\r\n\r\n    </div>\r\n};\r\n\r\nexport default GuestReserve;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}